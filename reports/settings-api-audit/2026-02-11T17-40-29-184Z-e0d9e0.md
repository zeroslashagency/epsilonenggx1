# Settings API Audit Report

- Run ID: `2026-02-11T17-40-29-184Z-e0d9e0`
- Started: 2026-02-11T17:40:29.177Z
- Finished: 2026-02-11T17:40:57.796Z
- Base URL: `http://localhost:3000`
- Checks: 57
- Passed: 52
- Failed: 5
- Findings: 9

## Findings

- [MEDIUM] CONTRACT-USERS-PAGINATION-MISSING: /api/admin/users response does not include pagination metadata expected by the UI.
  - Evidence: /api/admin/users?page=1&limit=1 -> keys: success, data
- [HIGH] CONTRACT-USERS-LIMIT-IGNORED: /api/admin/users appears to ignore page/limit query params.
  - Evidence: limit=1 returned 12 users, limit=20 returned 12 users
- [MEDIUM] CONTRACT-LOGS-PAGINATION-MISSING: /api/admin/all-activity-logs response does not include pagination metadata expected by the UI.
  - Evidence: /api/admin/all-activity-logs?page=1&limit=1 -> keys: success, logs, stats, message
- [HIGH] CONTRACT-LOGS-LIMIT-IGNORED: /api/admin/all-activity-logs appears to ignore page/limit query params.
  - Evidence: limit=1 returned 414 logs, limit=20 returned 414 logs
- [HIGH] EXPECTATION-UM-10-noAuth: Unexpected status for UM-10 (noAuth).
  - Evidence: POST /api/admin/delete-user -> 307, expected status in [403]
- [HIGH] EXPECTATION-AU-02-noAuth: Unexpected status for AU-02 (noAuth).
  - Evidence: GET /api/get-employees -> 200, expected status in [401|403]
- [HIGH] EXPECTATION-AU-02-operator: Unexpected status for AU-02 (operator).
  - Evidence: GET /api/get-employees -> 200, expected status in [401|403]
- [HIGH] EXPECTATION-AU-03-noAuth: Unexpected status for AU-03 (noAuth).
  - Evidence: GET /api/shift-templates -> 200, expected status in [401|403]
- [HIGH] EXPECTATION-AU-03-operator: Unexpected status for AU-03 (operator).
  - Evidence: GET /api/shift-templates -> 200, expected status in [401|403]

## Failed Checks

- UM-10 noAuth: POST /api/admin/delete-user -> 307 (expected status in [403])
- AU-02 noAuth: GET /api/get-employees -> 200 (expected status in [401|403])
- AU-02 operator: GET /api/get-employees -> 200 (expected status in [401|403])
- AU-03 noAuth: GET /api/shift-templates -> 200 (expected status in [401|403])
- AU-03 operator: GET /api/shift-templates -> 200 (expected status in [401|403])