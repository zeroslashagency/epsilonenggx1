# Settings API Audit Report

- Run ID: `2026-02-11T17-41-39-458Z-fc3693`
- Started: 2026-02-11T17:41:39.456Z
- Finished: 2026-02-11T17:42:05.597Z
- Base URL: `http://localhost:3000`
- Checks: 57
- Passed: 53
- Failed: 4
- Findings: 8

## Findings

- [MEDIUM] CONTRACT-USERS-PAGINATION-MISSING: /api/admin/users response does not include pagination metadata expected by the UI.
  - Evidence: /api/admin/users?page=1&limit=1 -> keys: success, data
- [HIGH] CONTRACT-USERS-LIMIT-IGNORED: /api/admin/users appears to ignore page/limit query params.
  - Evidence: limit=1 returned 13 users, limit=20 returned 13 users
- [MEDIUM] CONTRACT-LOGS-PAGINATION-MISSING: /api/admin/all-activity-logs response does not include pagination metadata expected by the UI.
  - Evidence: /api/admin/all-activity-logs?page=1&limit=1 -> keys: success, logs, stats, message
- [HIGH] CONTRACT-LOGS-LIMIT-IGNORED: /api/admin/all-activity-logs appears to ignore page/limit query params.
  - Evidence: limit=1 returned 414 logs, limit=20 returned 414 logs
- [HIGH] EXPECTATION-AU-02-noAuth: Unexpected status for AU-02 (noAuth).
  - Evidence: GET /api/get-employees -> 200, expected status in [401|403]
- [HIGH] EXPECTATION-AU-02-operator: Unexpected status for AU-02 (operator).
  - Evidence: GET /api/get-employees -> 200, expected status in [401|403]
- [HIGH] EXPECTATION-AU-03-noAuth: Unexpected status for AU-03 (noAuth).
  - Evidence: GET /api/shift-templates -> 200, expected status in [401|403]
- [HIGH] EXPECTATION-AU-03-operator: Unexpected status for AU-03 (operator).
  - Evidence: GET /api/shift-templates -> 200, expected status in [401|403]

## Failed Checks

- AU-02 noAuth: GET /api/get-employees -> 200 (expected status in [401|403])
- AU-02 operator: GET /api/get-employees -> 200 (expected status in [401|403])
- AU-03 noAuth: GET /api/shift-templates -> 200 (expected status in [401|403])
- AU-03 operator: GET /api/shift-templates -> 200 (expected status in [401|403])